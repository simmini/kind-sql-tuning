# 2장
## 인덱스
- 큰 테이블에서 소량의 데이터를 검색할 때 사용
- 인덱스 튜닝의 핵심
    - 인덱스 스캔 과정에서 발생하는 비효율 줄이기
    - 테이블 액세스 횟수 줄이기
        - 인덱스 스캔 후 테이블 레코드를 액세스할 때 랜덤 I/O 방식을 사용하므로 이를 '랜덤 액세스 최소화 튜닝' 이라고 한다.

## SOL 튜닝은 랜덤 I/O 와의 전쟁
- 데이터베이스 성능이 느린 이유는 디스크 I/O 때문
    - 특히 랜덤 I/O

## 인덱스 구조
- B-TREE
- 루트 - 브랜치 - 리프
- 리프 블록에 저장된 각 레코드는 ROWID를 갖는다
    - 데이터 블록 주소 + 로우 번호

## 인택스 탐색 과정
- 수직적 탐색
    - 인덱스 스캔 시작 지점을 찾는 과정
        - 조건을 만족하는 첫 번째 레코드를 찾는 과정
- 수평적 탐색
    - 데이터를 찾는 과정
        - 인덱스를 수평적으로 탐색하는 이유는?
            - 1. 조건절을 만족하는 데이터를 모두 찾기 위해
            - 2. ROWID를 얻기 위함(커버링 인덱스의 경우 인덱스만 스캔하지만 일반적으로 테이블도 액세스해야하는데 이때 ROWID가 필요하다. )

## 인덱스 칼럼을 가공하면?
- 인덱스를 정상적으로 사용할 수 없음
    - 왜냐하면 인덱스 스캔 시작 지점을 찾을 수 없기 때문
    - Index Range Scan은 인덱스에서 일정 범위를 스캔한다는 뜻인데 그러려면 '시작'/'끝' 지점이 있어야 한다.
- 인덱스를 정상적으로 사용한다는 표현의 의미는?
    - 리프 블록에서 스캔 시작점을 찾아 스캔하다가 중간에 멈추는 것
- OR 또는 IN 조건절은 옵타마이저의 쿼리 변환 기능을 통해 Index Range Scan으로 처리되기도 한다. 
